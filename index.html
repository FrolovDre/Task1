<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TSV Review Sentiment • Hugging Face</title>

  <!-- Icons for thumbs-up/down/question -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* --------- Basic theming --------- */
    :root { --bg:#0f1221; --card:#151836; --ink:#e7e9ff; --sub:#a9afd6; --accent:#6ea8fe; --danger:#ff6b6b; --ok:#62d26f; --muted:#8b91c7; }
    * { box-sizing: border-box; }
    html, body { height:100%; }

    /* --------- Page layout --------- */
    body {
      margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background: radial-gradient(1200px 800px at 20% -10%, #1a1f4a 0%, #0f1221 60%) no-repeat, var(--bg);
      color: var(--ink);
      display:flex; align-items:center; justify-content:center; padding: 28px;
    }
    .app {
      width: 100%; max-width: 920px; background: linear-gradient(180deg, rgba(255,255,255,0.03), transparent 40%), var(--card);
      border: 1px solid rgba(255,255,255,0.08); border-radius: 18px; padding: 22px; box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    /* --------- Header --------- */
    header { display:flex; gap:14px; align-items:center; margin-bottom: 14px; }
    header .logo {
      width:44px; height:44px; display:grid; place-items:center; border-radius:12px; background: #202553; color:#c9d1ff;
      border:1px solid rgba(255,255,255,0.09);
    }
    header h1 { font-size: 20px; margin:0; font-weight: 700; letter-spacing: .2px;}
    header p { margin:0; color: var(--sub); font-size: 13px; }

    /* --------- Common cards/rows --------- */
    .row { display:flex; gap:12px; flex-wrap: wrap; }
    .card {
      background: rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.08);
      border-radius: 14px; padding: 14px;
    }

    /* --------- Controls --------- */
    .controls { display:flex; gap:12px; align-items: center; flex-wrap: wrap; margin: 8px 0 16px; }
    input[type="password"] {
      width: 360px; max-width: 100%;
      background: #0f1226; border:1px solid rgba(255,255,255,0.12); color: var(--ink);
      border-radius: 10px; padding: 12px 12px; outline: none;
    }
    input::placeholder { color: var(--muted); }
    button {
      appearance: none; border: none; background: var(--accent); color: #0a0e1e;
      font-weight: 700; padding: 12px 16px; border-radius: 10px; cursor: pointer;
      display:inline-flex; align-items:center; gap:10px;
    }
    button:disabled { opacity: .6; cursor: not-allowed; }
    .status { color: var(--sub); font-size: 13px; display:flex; align-items:center; gap:8px; }
    .status i { opacity:.9; }

    /* --------- Review/Sentiment areas --------- */
    .review {
      font-size: 16px; line-height: 1.55; color: #f0f2ff; white-space: pre-wrap;
      min-height: 64px;
    }
    .result {
      display:flex; align-items:center; gap:10px; font-size:15px; margin-top: 6px;
    }
    .badge { font-size: 12px; padding: 6px 10px; border-radius: 999px; border:1px solid rgba(255,255,255,0.12); color: var(--sub); }
    .icon {
      width: 44px; height: 44px; display:grid; place-items:center; border-radius: 12px;
      border:1px solid rgba(255,255,255,0.1); background:#0f1226; font-size: 20px;
    }
    .icon.ok { color: var(--ok); border-color: rgba(98,210,111,.35); }
    .icon.bad { color: var(--danger); border-color: rgba(255,107,107,.35); }
    .icon.neutral { color: #d6d9ff; border-color: rgba(214,217,255,.25); }
    .muted { color: var(--muted); }

    /* --------- Two-column responsive grid --------- */
    .cols { display:grid; grid-template-columns: 1fr 320px; gap:16px; }
    @media (max-width: 840px) { .cols { grid-template-columns: 1fr; } }

    /* --------- Footer/meta --------- */
    .small { font-size: 12px; color: var(--sub); }
    .foot { display:flex; justify-content:space-between; align-items:center; margin-top: 10px; gap:10px; flex-wrap: wrap; }
    a.link { color:#adc6ff; text-decoration: none; border-bottom: 1px dotted rgba(173,198,255,.6); }
    .error { color: var(--danger); }
    .hidden { display:none !important; }
  </style>
</head>
<body>
  <main class="app">
    <header>
      <div class="logo"><i class="fa-solid fa-magnifying-glass-chart"></i></div>
      <div>
        <h1>Random Review Sentiment</h1>
        <p>Parses <code>reviews_test.tsv</code> with Papa Parse and analyzes sentiment via Hugging Face.</p>
      </div>
    </header>

    <section class="card">
      <!-- Token input (optional) + action button + loading status -->
      <div class="controls">
        <!-- Token is optional, but helps with rate limits if the user has one -->
        <input id="token" type="password" placeholder="Optional: Hugging Face API token (Bearer)" autocomplete="off" />
        <button id="analyzeBtn"><i class="fa-solid fa-shuffle"></i><span>Analyze Random Review</span></button>
        <span id="loadStatus" class="status"><i class="fa-solid fa-spinner fa-spin"></i><span>Loading TSV…</span></span>
      </div>

      <!-- Two columns: review text (left) and sentiment result (right) -->
      <div class="cols">
        <div class="card">
          <div class="badge">Random Review</div>
          <div id="review" class="review muted">Click “Analyze Random Review” to pick a review.</div>
        </div>

        <div class="card">
          <div class="badge">Sentiment</div>
          <div class="result">
            <!-- Icon changes to thumbs-up/down or question depending on the result -->
            <div id="icon" class="icon neutral"><i class="fa-solid fa-question"></i></div>
            <div>
              <div id="sentiment" class="muted">No analysis yet.</div>
              <div id="score" class="small muted"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- File info + error area -->
      <div class="foot">
        <div id="tsvInfo" class="small muted"></div>
        <div id="error" class="small error hidden"></div>
      </div>
    </section>
  </main>

  <!-- Papa Parse for TSV parsing (MUST use this library as required) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <!-- App logic in separate file (no inlining) -->
  <script src="./app.js"></script>
</body>
</html>
